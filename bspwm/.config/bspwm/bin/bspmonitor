#!/usr/bin/env bash
# Adapted from https://gist.github.com/danielcbaldwin/3b146824f12355e5bac7e4102ab483c7

primary="eDP1"
[[ $(hostname) = "home" ]] && primary="HDMI-0"

bspc subscribe monitor_geometry | while read -ra msg; do
    bspenforcepos "${primary}" '^1'
    bspworkspaceupdate
    nitrogen --restore
done &
